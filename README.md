# raytracer
**Постановка задачи:**

В данном проекте реализован рейтрейсер, с помощью которого можно рендерить простейшие сцены.
Алгоритм рендеринга сцены представляет из себя следующее:


1. Воображаемая камера ставится напротив воображаемого экрана 

2. Проводится луч из камеры через пиксель экрана 

3. Находится точка пересечения этого луча с ближайшим объектом сцены

4. По формуле считается освещённость в этой точке, полученное значение принимается за значение пикселя

Освещенность рассчитывается по модели [Фонга](https://en.wikipedia.org/wiki/Phong_reflection_model)

Сцена задаётя .obj и .mtl файлами.  Для материалов задан коэффициент преломления, для остальной среды он считается равным 1. Каждый объект характеризуется своей прозрачностью, которую нужно учитывать при трассировке преломлённого луча. 

Поскольку проект учебный, принят ряд упрощений:

* Рассматриваются только точечные источники света

* Сфера представляет из себя отдельный объект, а не множество треугольников

* Глубина рекурсии при трассировке луча ограничивается гиперпараметром

**Программная архитектура:**

Код программы удобно разделить на три блока:
* Геометрия. Здесь реализована логика работы с геометрическими объектами такими как сфера, луч, треугольник. А так же логика манипуляций с ними (пересечение треугольника / сферы с лучом, вычисление преломленного и отраженного луча, вычисление барицентрических координат)
* Построение сцены. Здесь реализован парсер .obj и .mtl,  котрый создаёт объект класса сцены, с которым в последствии удобно работать 
* Сам рейтрейсер, здесь реализована функция трассировки и получения финального изображения

В качестве дополнительного материала использовалось: https://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-generating-camera-rays/generating-camera-rays.html 

![alt text](https://github.com/khilk/raytracer/blob/main/test/models/box/cube.png)
